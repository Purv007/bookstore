# Server
server.port=${SERVER_PORT:8080}

# -------------------------
# Database (use env vars)
# -------------------------
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Hikari / connection pool (tune for small free-tier services)
spring.datasource.hikari.maximum-pool-size=${HIKARI_MAX_POOL_SIZE:3}
spring.datasource.hikari.minimum-idle=${HIKARI_MIN_IDLE:1}
spring.datasource.hikari.idle-timeout=${HIKARI_IDLE_TIMEOUT_MS:30000}
spring.datasource.hikari.connection-timeout=${HIKARI_CONN_TIMEOUT_MS:30000}
spring.datasource.hikari.max-lifetime=${HIKARI_MAX_LIFETIME_MS:1800000}

# -------------------------
# JPA
# -------------------------
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_DDL:auto}      # dev: update, prod: validate or none
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:false}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=${SPRING_JPA_FORMAT_SQL:false}

# -------------------------
# JWT (secret must come from env)
# -------------------------
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION_MS:86400000}

# -------------------------
# CORS
# -------------------------
# Provide comma separated allowed origins in env for production.
# Example for local dev: http://localhost:5173,http://localhost:3000
app.cors.allowed-origins=${CORS_ORIGINS:*}

# -------------------------
# Swagger / API docs
# -------------------------
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# -------------------------
# File upload
# -------------------------
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
